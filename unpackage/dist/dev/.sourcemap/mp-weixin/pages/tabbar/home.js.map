{"version":3,"file":"home.js","sources":["pages/tabbar/home.vue","pages/tabbar/home.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"pl30 pr30 pt30\">\r\n\t\t\r\n\t\t<view class=\"card flex ac mb30\" @click=\"goNotice\" v-if=\"noticeList.length > 0\">\r\n\t\t\t<uni-icons type=\"notification\" :size=\"20\"></uni-icons>\r\n\t\t\t<swiper class=\"notice ml20\" :interval=\"3000\" :autoplay=\"true\" :vertical=\"true\" :circular=\"true\" :duration=\"1000\">\r\n\t\t\t\t<swiper-item v-for=\"item in noticeList\" :key=\"item._id\">\r\n\t\t\t\t\t<view class=\"noticeItem line size27\">{{ item.title }}</view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex ast\">\r\n\t\t\t<view class=\"card flex1 flex ac mr20\" @click=\"goApply\">\r\n\t\t\t\t<image src=\"/static/imgs/2.png\" class=\"img88\"></image>\r\n\t\t\t\t<view class=\"ml20 size28\">{{ currentTask ? '修改信息' : '我要排队' }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"card flex1 flex ac\" @click=\"openFinish\">\r\n\t\t\t\t<image src=\"/static/imgs/4.png\" class=\"img88\"></image>\r\n\t\t\t\t<view class=\"ml20 size28\">装卸完成</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex jb ac card mt30\">\r\n\t\t\t<view class=\"flex ac\">\r\n\t\t\t\t<image src=\"/static/imgs/3.png\" class=\"img88\"></image>\r\n\t\t\t\t<view class=\"ml20 size28\">当前排队总数</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"size42 bold main\">{{ queueStats.total }}</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"size30 bold mt30\">排队列表</view>\r\n\r\n\t\t<view class=\"card mt30 rel\" v-for=\"(item,index) in queueList\" :key=\"item._id\">\r\n\t\t\t<view class=\"tag size24\" v-if=\"item.status==1\">处理中</view>\r\n\t\t\t<view class=\"flex jb ac pt10\">\r\n\t\t\t\t<view class=\"flex ac\">\r\n\t\t\t\t\t<view class=\"no flex jc ac size28 mr20\">#{{ index + 1 }}</view>\r\n\t\t\t\t\t<view class=\"size30 bold\">{{ item.plate_number }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"size28 grey\">{{ formatTime(item.create_time) }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex ae mt30\">\r\n\t\t\t\t<view class=\"tc flex1\">\r\n\t\t\t\t\t<view class=\"size30 bold\">{{ item.truck_type }}</view>\r\n\t\t\t\t\t<view class=\"size26 grey mt10\">车型</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tc flex1\" v-if=\"item.operation_type == 1\">\r\n\t\t\t\t\t<image src=\"/static/imgs/5.png\" class=\"img40\"></image>\r\n\t\t\t\t\t<view class=\"size26 grey mt10\">卸车</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tc flex1\" v-else>\r\n\t\t\t\t\t<image src=\"/static/imgs/6.png\" class=\"img40\"></image>\r\n\t\t\t\t\t<view class=\"size26 grey mt10\">装车</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"tc mt30 size28 gray\" v-if=\"queueList.length === 0\">\r\n\t\t\t<view class=\"flex jc\">\r\n\t\t\t\t<image src=\"@/static/imgs/nodata.png\" class=\"img200\"></image>\r\n\t\t\t</view>\r\n\t\t\t暂无排队记录\r\n\t\t</view>\r\n\t</view>\r\n\r\n\t<view class=\"gap200\"></view>\r\n\r\n\t<view class=\"myCard\" v-if=\"appStore.isLogin && currentTask\">\r\n\t\t<view class=\"flex jb ac\">\r\n\t\t\t<view class=\"flex ac size28\">\r\n\t\t\t\t<view class=\"bold mr20\">#{{ myQueueNumber }}</view>\r\n\t\t\t\t<view>{{ currentTask.plate_number }}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"size28\" v-if=\"currentTask.status === 0\">{{ estimatedWaitTime }}</view>\r\n\t\t\t<view class=\"size28\" style=\"color: #19be6b;\" v-else>处理中</view>\r\n\t\t</view>\r\n\t\t<view class=\"flex jb ac mt10 opc6 size24\">\r\n\t\t\t<view>我的排号</view>\r\n\t\t\t<view v-if=\"currentTask.status === 0\">预计等待</view>\r\n\t\t\t<view v-else>状态</view>\r\n\t\t</view>\r\n\t</view>\r\n\t\r\n\t<uni-popup ref=\"popupRef\" type=\"center\">\r\n\t\t<view class=\"pop\">\r\n\t\t\t<view class=\"flex jb ac\">\r\n\t\t\t\t<uni-icons type=\"closeempty\" color=\"#FFFFFF\" :size=\"25\"></uni-icons>\r\n\t\t\t\t<view class=\"size30 bold\">提示</view>\r\n\t\t\t\t<uni-icons type=\"closeempty\" :size=\"25\" @click=\"popupRef?.close()\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex jc mt60\">\r\n\t\t\t\t<image src=\"@/static/imgs/nodata.png\" class=\"img200\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tc size26 gray mt30\">您还未进行装卸或申请排队～</view>\r\n\t\t</view>\r\n\t</uni-popup>\r\n\t\r\n\t<Finish ref=\"finishRef\"></Finish>\r\n\t\r\n\t<Popup ref=\"noticeRef\"></Popup>\r\n\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref, computed } from 'vue';\r\nimport { onShow, onPullDownRefresh, onReachBottom } from '@dcloudio/uni-app';\r\nimport { useAppStore } from '@/store';\r\nimport Finish from '../home/Finish.vue'\r\nimport Popup from '../home/Popup.vue'\r\n\r\nconst appStore = useAppStore()\r\nconst popupRef = ref()\r\nconst finishRef = ref()\r\nconst noticeRef = ref()\r\n\r\n// 当前排队中的申请\r\nconst currentTask = ref<any>(null)\r\n\r\n// 排队列表\r\nconst queueList = ref<any[]>([])\r\nconst page = ref(1)\r\nconst pageSize = 20\r\nconst hasMore = ref(true)\r\nconst isLoading = ref(false)\r\n\r\n// 公告列表（首页轮播用）\r\nconst noticeList = ref<any[]>([])\r\n\r\nconst goNotice = () => {\r\n\tuni.navigateTo({\r\n\t\turl:\"/pages/notice/list\"\r\n\t})\r\n}\r\n\r\n// 统计数据\r\nconst queueStats = ref({\r\n\ttotal: 0,\r\n\tprocessing: 0,\r\n\twaiting: 0\r\n})\r\n\r\n// 加载公告列表（首页轮播用）\r\nconst loadNoticeList = async () => {\r\n\ttry {\r\n\t\tconst noticeObj = uniCloud.importObject('notice')\r\n\t\tconst res = await noticeObj.getList({ limit: 5 })\r\n\r\n\t\tif (res.errCode === 0) {\r\n\t\t\tnoticeList.value = res.data.list\r\n\t\t}\r\n\t} catch (e: any) {\r\n\t\tuni.__f__('error','at pages/tabbar/home.vue:153','加载公告列表失败：', e)\r\n\t}\r\n}\r\n\r\n// 加载弹窗公告\r\nconst loadPopupNotice = async () => {\r\n\t// 只有登录用户才加载弹窗公告\r\n\tif (!appStore.isLogin) return\r\n\r\n\ttry {\r\n\t\tconst noticeObj = uniCloud.importObject('notice')\r\n\t\tconst res = await noticeObj.getPopupNotice()\r\n\r\n\t\tif (res.errCode === 0 && res.data) {\r\n\t\t\t// 有未读的弹窗公告，展示弹窗\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tnoticeRef.value?.open(res.data)\r\n\t\t\t}, 500) // 延迟500ms展示，避免页面加载时立即弹出\r\n\t\t}\r\n\t} catch (e: any) {\r\n\t\tuni.__f__('error','at pages/tabbar/home.vue:173','加载弹窗公告失败：', e)\r\n\t}\r\n}\r\n\r\n// 我的排号（在队列中的位置）\r\nconst myQueueNumber = computed(() => {\r\n\tif (!currentTask.value) return 0\r\n\tconst index = queueList.value.findIndex(item => item._id === currentTask.value._id)\r\n\treturn index !== -1 ? index + 1 : 0\r\n})\r\n\r\n// 根据车型获取预计使用时间（分钟）\r\nconst getTruckTime = (truckType: string) => {\r\n\tif (truckType === '依维柯') {\r\n\t\treturn 10\r\n\t} else if (['3.8米', '4.2米', '7.6米', '9.6米'].includes(truckType)) {\r\n\t\treturn 30\r\n\t} else {\r\n\t\t// 13.5米、17.5米及以上\r\n\t\treturn 60\r\n\t}\r\n}\r\n\r\n// 预计等待时间（根据前方排队车型估算）\r\nconst estimatedWaitTime = computed(() => {\r\n\tif (!currentTask.value || currentTask.value.status === 1) return ''\r\n\t\r\n\t// 找到自己在队列中的位置\r\n\tconst myIndex = queueList.value.findIndex(item => item._id === currentTask.value._id)\r\n\tif (myIndex <= 0) return '即将开始'\r\n\t\r\n\t// 累加前方所有车辆的预计时间\r\n\tlet totalMinutes = 0\r\n\tfor (let i = 0; i < myIndex; i++) {\r\n\t\tconst truck = queueList.value[i]\r\n\t\ttotalMinutes += getTruckTime(truck.truck_type)\r\n\t}\r\n\t\r\n\tconst hours = Math.floor(totalMinutes / 60)\r\n\tconst minutes = totalMinutes % 60\r\n\t\r\n\tif (hours > 0) {\r\n\t\treturn minutes > 0 ? `${hours}小时${minutes}分钟` : `${hours}小时`\r\n\t} else {\r\n\t\treturn `${minutes}分钟`\r\n\t}\r\n})\r\n\r\n// 查询当前用户是否有排队中的申请\r\nconst checkCurrentTask = async () => {\r\n\t// 未登录不查询\r\n\tif (!appStore.isLogin) {\r\n\t\tcurrentTask.value = null\r\n\t\treturn\r\n\t}\r\n\t\r\n\ttry {\r\n\t\tconst truckObj = uniCloud.importObject('truck')\r\n\t\tconst res = await truckObj.getCurrentTask()\r\n\t\t\r\n\t\tif (res.errCode === 0 && res.data) {\r\n\t\t\t// 有排队中或处理中的申请\r\n\t\t\tcurrentTask.value = res.data\r\n\t\t} else {\r\n\t\t\tcurrentTask.value = null\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tuni.__f__('error','at pages/tabbar/home.vue:240','查询失败：', e)\r\n\t\tcurrentTask.value = null\r\n\t}\r\n}\r\n\r\n// 查询排队列表\r\nconst loadQueueList = async (isRefresh = false) => {\r\n\tif (isLoading.value) return\r\n\tif (!hasMore.value && !isRefresh) return\r\n\t\r\n\ttry {\r\n\t\tisLoading.value = true\r\n\t\t\r\n\t\t// 如果是刷新，重置页码\r\n\t\tif (isRefresh) {\r\n\t\t\tpage.value = 1\r\n\t\t\thasMore.value = true\r\n\t\t}\r\n\t\t\r\n\t\tconst truckObj = uniCloud.importObject('truck')\r\n\t\tconst res = await truckObj.getQueueList({\r\n\t\t\tpage: page.value,\r\n\t\t\tpageSize: pageSize\r\n\t\t})\r\n\t\t\r\n\t\tif (res.errCode === 0) {\r\n\t\t\tif (isRefresh) {\r\n\t\t\t\tqueueList.value = res.data.list\r\n\t\t\t} else {\r\n\t\t\t\tqueueList.value = [...queueList.value, ...res.data.list]\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tqueueStats.value.total = res.data.total\r\n\t\t\t\r\n\t\t\t// 统计处理中和排队中的数量\r\n\t\t\tqueueStats.value.processing = queueList.value.filter(item => item.status === 1).length\r\n\t\t\tqueueStats.value.waiting = queueList.value.filter(item => item.status === 0).length\r\n\t\t\t\r\n\t\t\t// 判断是否还有更多数据\r\n\t\t\tif (res.data.list.length < pageSize) {\r\n\t\t\t\thasMore.value = false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 加载成功，页码+1\r\n\t\t\tif (res.data.list.length > 0) {\r\n\t\t\t\tpage.value++\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (e) {\r\n\t\tuni.__f__('error','at pages/tabbar/home.vue:289','获取列表失败：', e)\r\n\t} finally {\r\n\t\tisLoading.value = false\r\n\t}\r\n}\r\n\r\n// 格式化时间\r\nconst formatTime = (timestamp: number) => {\r\n\tconst date = new Date(timestamp)\r\n\tconst year = date.getFullYear()\r\n\tconst month = String(date.getMonth() + 1).padStart(2, '0')\r\n\tconst day = String(date.getDate()).padStart(2, '0')\r\n\tconst hour = String(date.getHours()).padStart(2, '0')\r\n\tconst minute = String(date.getMinutes()).padStart(2, '0')\r\n\tconst second = String(date.getSeconds()).padStart(2, '0')\r\n\treturn `${year}-${month}-${day} ${hour}:${minute}:${second}`\r\n}\r\n\r\n// 页面显示时查询（首次加载、从其他页面返回、切换标签页时都会触发）\r\nonShow(async () => {\r\n\t// 加载公告列表\r\n\tawait loadNoticeList()\r\n\t// 先加载列表，再查询当前任务，这样计算排号才准确\r\n\tawait loadQueueList(true)\r\n\tawait checkCurrentTask()\r\n\t// 加载弹窗公告（放在最后，避免阻塞主流程）\r\n\tawait loadPopupNotice()\r\n})\r\n\r\n// 监听刷新事件（完成装卸后触发）\r\nuni.$on('refreshHome', async () => {\r\n\tawait loadQueueList(true)\r\n\tawait checkCurrentTask()\r\n})\r\n\r\n// 下拉刷新\r\nonPullDownRefresh(async () => {\r\n\ttry {\r\n\t\tawait loadQueueList(true)\r\n\t\tawait checkCurrentTask()\r\n\t\t\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '刷新成功',\r\n\t\t\ticon: 'success'\r\n\t\t})\r\n\t} catch (e) {\r\n\t\tuni.__f__('error','at pages/tabbar/home.vue:335','刷新失败：', e)\r\n\t} finally {\r\n\t\t// 停止下拉刷新动画\r\n\t\tuni.stopPullDownRefresh()\r\n\t}\r\n})\r\n\r\n// 触底加载更多\r\nonReachBottom(() => {\r\n\tloadQueueList()\r\n})\r\n\r\nconst goApply = () => {\r\n\t// 如果有排队中的申请，跳转到修改页面（带上当前申请数据）\r\n\tif (currentTask.value) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/home/apply?id=${currentTask.value._id}`\r\n\t\t})\r\n\t} else {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: \"/pages/home/apply\"\r\n\t\t})\r\n\t}\r\n}\r\n\r\nconst openFinish = () => {\r\n\t// 检查是否登录\r\n\tif (!appStore.isLogin) {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '提示',\r\n\t\t\tcontent: '请先登录',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '/pages/tabbar/mine'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn\r\n\t}\r\n\t\r\n\t// 检查是否有处理中的单子\r\n\tif (currentTask.value && currentTask.value.status === 1) {\r\n\t\t// 有处理中的单子，打开完成弹窗，传入任务ID\r\n\t\tfinishRef.value?.open(currentTask.value._id)\r\n\t} else {\r\n\t\t// 没有处理中的单子，提示用户\r\n\t\tpopupRef.value?.open()\r\n\t}\r\n}\r\n\r\nconst goFinish = () => {\r\n\tpopupRef.value?.close()\r\n\tsetTimeout(()=>{\r\n\t\tfinishRef.value?.open()\r\n\t},300)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.notice{\r\n\t\tflex: 1;\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx;\r\n\t\t.noticeItem{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 40rpx;\r\n\t\t\tline-height: 40rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\t}\r\n\t.tag {\r\n\t\tpadding: 5rpx 20rpx;\r\n\t\tborder-radius: 4rpx 20rpx 0 20rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\tbackground-color: $uni-color-success;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.no {\r\n\t\twidth: 50rpx;\r\n\t\theight: 50rpx;\r\n\t\tborder: 1rpx solid $main-color;\r\n\t\tcolor: $main-color;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.myCard {\r\n\t\tbackground-color: $main-color;\r\n\t\tpadding: 30rpx;\r\n\t\twidth: 690rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: calc(var(--window-bottom) + 30rpx);\r\n\t\tleft: 30rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tz-index: 10;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t\r\n\t.pop{\r\n\t\twidth: 600rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t\r\n\t.opc6{\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/jcy/code/wx/system/pages/tabbar/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["useAppStore","ref","uni","uniCloud","computed","onShow","onPullDownRefresh","onReachBottom"],"mappings":"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"}